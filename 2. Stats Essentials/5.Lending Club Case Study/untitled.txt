1. Univariate Analysis: - Done
    A. Continous Variables:
        Correlation/Heat map
        1. Loan Amount
        2. Interest Rate
        3. Annual Income
    B. Categorical Variables:
        1. emp_length
        2. home_ownership
        3. verification_status
        4. loan_status
        5. purpose
        6. issue_year



2. Bi-variate Analysis: 
    A. Plot b/w driving factors
        1.Annual Income Vs Purpose Of Loan
        2.Trust Customer Classification
        3.Loan Term Vs Delinquent Months
        4.Loan Term Vs Credit Category
        5.Loan Term Vs Years In Current Job
        6.Loan Payment Chances Vs Home Ownership
    
   B. Plot against target variable
       1. Grade vs loan status
       2. Employee length vs loan status
       3. Home Ownership vs loan status
       4. Verification vs loan status
       5. Purpose vs loan status
       6. Term vs loan status

['loan_amnt', 'funded_amnt', 'funded_amnt_inv', 'int_rate', 'installment', 'annual_inc', 'dti', 'delinq_2yrs', 'inq_last_6mths', 'mths_since_last_delinq', 'open_acc', 'pub_rec', 'revol_bal', 'revol_util', 'total_acc', 'out_prncp', 'out_prncp_inv', 'total_pymnt', 'total_pymnt_inv', 'total_rec_prncp', 'total_rec_int', 'total_rec_late_fee', 'recoveries', 'collection_recovery_fee', 'last_pymnt_amnt', 'pub_rec_bankruptcies', 'loan_amt_income_ratio', 'frequency']

loan_amnt,funded_amnt,funded_amnt_inv,installment,total_pymnt,total_pymnt_inv,total_rec_prncp
recoveries,collection_recovery_fee
pub_rec,pub_rec_bankruptcies
open_acc,total_acc
out_prncp,out_prncp_inv


int_rate,total_acc
delinq_2yrs,mths_since_last_delinq
revol_util,open_acc

Linear Regression:
1. Create X and y
2. Create train and test data set
3. Train your model on train data - model fit, params, summary ( coffiecients, t-score, p-value, r-squared, f-stats), Plot
4. Residual Analysis (y_pred, y_train) - check the assumptions
5. Evaluate the model on test data
6. Validation - RMSE, R Squared, plot scatter
*******************************************

drop current loan record
crate target varaiable with default as 1 and non default as 0
convert emp lenght into float value - doneC
remove rows where max % columns are null


*Data analysis
1. applicant features like demography variable - age, occupation,employment details
2. loan characteristics - amount of laon, interst rate, purpose loan etc
3. Customer behavior variables - delinquent 2 years, reoved balance, next payment d etc - drop 

Important Variables:
1. Loan Amount
2. Term
3. Interest Rate
5. Grade-subgrade
6. income,purpose,emp_length,issue month,issue_year,home ownership,verification status


Univariate analysis - segmented analysis:
1. 

Category Columns: ['term', 'grade', 'sub_grade', 'emp_length', 'home_ownership', 'verification_status', 'issue_d', 'loan_status', 'purpose', 'addr_state', 'earliest_cr_line', 'last_pymnt_d', 'last_credit_pull_d', 'issue_month', 'issue_year']
drop column: issue_d, issue_month


Continous Columns: ['loan_amnt', 'funded_amnt', 'funded_amnt_inv', 'int_rate', 'installment', 'annual_inc', 'dti', 'delinq_2yrs', 'inq_last_6mths', 'mths_since_last_delinq', 'open_acc', 'pub_rec', 'revol_bal', 'revol_util', 'total_acc', 'out_prncp', 'out_prncp_inv', 'total_pymnt', 'total_pymnt_inv', 'total_rec_prncp', 'total_rec_int', 'total_rec_late_fee', 'recoveries', 'collection_recovery_fee', 'last_pymnt_amnt', 'pub_rec_bankruptcies', 'loan_amt_income_ratio', 'frequency']


temp.groupby('xyz')[target].value_counts().unstack().plot(kind="bar",stacked=True)
pd.cut(temp.cont,3).value_counts()
temp['target'].value_counts(1).plot(kind="pie")
temp.groupby(['xyz','cont_bin']).['target'].mean().unstack().plot(kind="bar",stacked=True)

loan_df[['last_pymnt_d','last_credit_pull_d','term','grade', 
         'sub_grade', 'home_ownership','verification_status', 
         'loan_status', 'purpose', 'addr_state',
         'emp_length','issue_d','earliest_cr_line']]=loan_df[['last_pymnt_d','last_credit_pull_d','term','grade', 
                                                       'sub_grade', 'home_ownership','verification_status', 
                                                       'loan_status', 'purpose', 'addr_state', 
                                                       'emp_length','issue_d','earliest_cr_line']].astype("string")
